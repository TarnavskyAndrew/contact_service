Configuration
=============

The application is configured via environment variables (``.env`` file).
See ``.env.example`` in the project root.

Manual Overview
---------------

Database
--------

- **DATABASE_URL** : Full async DB URL (e.g. ``postgresql+asyncpg://user:pass@host:5432/db``).  
- **PG_DB_NAME** : Database name (if DATABASE_URL not provided).  
- **PG_USER** : Database username.  
- **PG_PASSWORD** : Database password.  
- **PG_PORT** : Database port (default: 5432).  
- **PG_DOMAIN** : Database host/domain.  

JWT & Security
--------------

- **SECRET_KEY** : Secret key for JWT signing.  
- **ALGORITHM** : JWT algorithm (default: HS256).  
- **ACCESS_EXPIRE_MIN** : Access token lifetime in minutes (default: 15).  
- **REFRESH_EXPIRE_DAYS** : Refresh token lifetime in days (default: 7).  

Admin
-----

- **ADMIN_EMAIL** : Default administrator email (used in ``seed.py``).  
- **ADMIN_PASSWORD** : Default administrator password.  

SMTP / Email
------------

- **MAIL_USERNAME** : SMTP username.  
- **MAIL_PASSWORD** : SMTP password.  
- **MAIL_FROM** : Sender email address.  
- **MAIL_PORT** : SMTP port (default: 2525).  
- **MAIL_SERVER** : SMTP server host.  
- **DEBUG_EMAILS** : If true, also saves emails locally into ``tmp_emails``.  

Cloudinary
----------

- **CLOUDINARY_NAME** : Cloudinary account name.  
- **CLOUDINARY_API_KEY** : Cloudinary API key.  
- **CLOUDINARY_API_SECRET** : Cloudinary API secret.  

Redis
-----

- **REDIS_HOST** : Redis host (default: localhost).  
- **REDIS_PORT** : Redis port (default: 6379).  

PGAdmin
-------

- **PGADMIN_DEFAULT_EMAIL** : Default pgAdmin login email.  
- **PGADMIN_DEFAULT_PASSWORD** : Default pgAdmin password.  

Example .env
------------

Example ``.env`` file for local development::

    DATABASE_URL=postgresql+asyncpg://postgres:postgres@db:5432/contacts_db
    SECRET_KEY=supersecretkey
    ALGORITHM=HS256
    ACCESS_EXPIRE_MIN=15
    REFRESH_EXPIRE_DAYS=7

    ADMIN_EMAIL=admin@example.com
    ADMIN_PASSWORD=adminpass

    MAIL_USERNAME=test@example.com
    MAIL_PASSWORD=mailpass
    MAIL_FROM=test@example.com
    MAIL_PORT=2525
    MAIL_SERVER=smtp.mailtrap.io
    DEBUG_EMAILS=True

    CLOUDINARY_NAME=myapp
    CLOUDINARY_API_KEY=123456
    CLOUDINARY_API_SECRET=abcdef

    REDIS_HOST=redis
    REDIS_PORT=6379

    PGADMIN_DEFAULT_EMAIL=pgadmin@example.com
    PGADMIN_DEFAULT_PASSWORD=pgadminpass

Autogenerated API
-----------------

The following section is autogenerated from ``config.py`` 
and shows the Pydantic ``Settings`` class.

.. automodule:: src.conf.config
   :members:
   :undoc-members:
   :show-inheritance:
